---
title: "Build a Mendix Native App with Bitrise"
url: /refguide/mobile/distributing-mobile-apps/building-native-apps/bitrise/
weight: 60
description: Describes how to integrate with Bitrise to build a Mendix native app in the cloud.
---

## Introduction

This guide helps you set up [Bitrise](https://bitrise.io) to automate building a Mendix native app in the cloud. Bitrise is a popular continuous integration service optimized for mobile apps.

## Prerequisites {#prerequisites}

Before starting this guide, make sure you have completed the following prerequisites:

* Signed up for a [GitHub account](https://github.com/signup) and created a personal access token
* Signed up for a [Bitrise account](https://app.bitrise.io/users/sign_up)
* Read the [Getting Starting guide from Bitrise](https://devcenter.bitrise.io/en/getting-started.html) and understand the key concepts of Bitrise
* Have access to a Mendix application project with a native mobile profile as a developer
    * The Mendix application is deployed
* Have created the native template project for your app by following [Using Mendix Native Mobile Builder to Set Up Your Local App](/refguide/mobile/distributing-mobile-apps/building-native-apps/native-build-locally/#using-mendix-native-mobile-builder-to-set-up-your-local-app). Make sure to set the GitHub token to also create a GitHub repository.
* Fulfilled the prerequisites below for all operating systems you want to target:

### Prerequisites for iOS {#prerecs-ios}

* Signed up as an [Apple developer](https://developer.apple.com/programs/enroll/)
* Joined the [Apple Developer Program](https://developer.apple.com/programs/) or the [Apple Developer Enterprise Program](https://developer.apple.com/programs/enterprise/)
* You have access to an [Apple distribution certificate](https://developer.apple.com/help/account/create-certificates/create-developer-id-certificates)
* You have [created an API Key for App Store Connect](https://developer.apple.com/documentation/appstoreconnectapi/creating-api-keys-for-app-store-connect-api)

### Prerequisites for Android {#prerecs-android}

* Signed up as an [Android developer](https://play.google.com/console/signup)
* Created a Keystore [with Android Studio](https://developer.android.com/studio/publish/app-signing#generate-key) or [with Java](https://docs.oracle.com/cd/E19509-01/820-3503/ggfen/index.html)

## Set Up Your Build Project {#set-up-your-build-project}

To set up your build project, do the following:

1. Create a workspace (if needed) in Bitrise.
1. Create a new project in the workspace.
1. Select the GitHub project generated by **Build Native App** as the repository. It is recommended to use the **GitHub App Integration**:

    {{< figure src="/attachments/refguide/mobile/distributing-mobile-apps/building-native-apps/bitrise/select-repository.png" alt="Select repository" width="350" class="no-border" >}}

1. Select the `master` branch and let Bitrise auto-detect the configuration.
1. Confirm that the correct configuration has been detected:
   * Project type: `React Native`
   * Project directory: `.`
   * Root directory of Android project: `android`
   * Module: `app`
   * Variant: `appstoreRelease`
   * Project or Workspace path: `ios/NativeTempalte.xcworkspace`
   * Scheme name: `nativeTemplate`
   * Distribution method: [Choose the distribution method you want to use](https://developer.apple.com/videos/play/wwdc2019/304/)
   * Build stack: Choose the latest Xcode version compatible with your Mendix version
1. Finish creating the project.
1. Abort the build if one starts automatically (you first need to setup code signing and adjust the workflow).

## Setup Code Signing for iOS

Applications distributed to iOS devices must be signed with a certificate and a provisioning profile. To do so, you need to register as a developer with Apple and join one of their development programs (see [Prerequisites](#prerequisites)).

Bitrise supports automatic provisioning via a constant connection with the App Store. To set it up, follow [the guide from Bitrise](https://devcenter.bitrise.io/en/code-signing/ios-code-signing/managing-ios-code-signing-files---automatic-provisioning.html).

If you prefer to manually set up provisioning, follow [this guide from Bitrise](https://devcenter.bitrise.io/en/code-signing/ios-code-signing/managing-ios-code-signing-files---manual-provisioning.html) instead.

## Setup Code Signing for Android 

Applications distributed to Android devices must be signed with a keystore. To distribute Android apps via the PlayStore, you must also register as an Android developer (see [Prerequisites](#prerequisites)).

Bitrise lets you store your Android keystore in the build project. Follow [this guide from Bitrise](https://devcenter.bitrise.io/en/code-signing/android-code-signing/uploading-android-keystore-files-to-bitrise.html) to upload and store the keystore.

## Adjust Workflow

The default workflow (**deploy**) needs to be extended to work for Mendix native mobile apps. Open the build project and click on **Workflow** to access the workflow editor. With it, you can customize the commands you run in order to build your application.

Any additional workflows that may have been created can be removed. Select the workflow from the dropdown and click **Properties** > **Delete workflow**.

### Add Missing npm Command

Add a missing npm command by doing the following:

1. Add a new step after the step "Run npm command".
1. Choose **Run npm command** from the list of steps.
1. Set the npm command with arguments to run to `run configure`.
1. Save changes.

### Remove Unneeded Operating System Targets

By default, Bitrise targets both Android and iOS. If you do not need to build for both operating systems (OS), remove all actions related to that OS and skip all steps below related to it as well.

For example, if you only target iOS, you can remove the actions **Install missing Android SDK components** and **Android Build**. This will significantly speed up your builds and save credits.

### Add Android Code Signing (Android only)

To add Android code signing, do the following:

1. Add a new step after the step **Android Build**.
1. Choose **Android Sign** from the list of steps.
1. Save changes.

Bitrise will use the uploaded keystore to sign the *.apk*.

### Add Cocoapods Install (iOS only)

To add Cocoapods install on iOS, do the following:

1. Add a new step before the step **Xcode Archive**.
1. Choose **Run CocoaPods install** from the list of steps.
1. Set Workdir to `$BITRISE_SOURCE_DIR/ios`
1. Save changes.

This step will install the dependencies required for iOS.

### Add iOS Code Signing (iOS Only)

1. Add a new step before the step **Xcode Archive** (after Run CocoaPods install).
1. Choose **Manage iOS Code Singing** from the list of steps.
1. Set the distribution method to the method selected in [section 3](#set-up-your-build-project).
1. Save changes.

Bitrise will use the provided iOS Signing information to sign the iOS app.

After these changes, your workflow should look like this (if you target both operating systems):

{{< figure src="/attachments/refguide/mobile/distributing-mobile-apps/building-native-apps/bitrise/workflow.png" alt="Completed workflow" width="350" class="no-border" >}}

## Build Your App

Builds can be started manually or automatically. To start a build manually, open the build project and click **Start build** and confirm the dialog. A typical build will take approximately 20 minutes, but can take longer for complex applications with many dependencies.

When building, you can follow the build output and watch for progress and potential problems being reported there.

To set up automatic builds after running **Build Native App**, follow these steps:

1. Open the **Workflow Editor** of your build project.
1. Open the **Triggers** page.
1. Click **Add push trigger**.
1. Select **Push branch** for **Condition 1** and change the **Push** branch to `master`.
1. Select the **deploy** workflow and confirm.

Now, every time some runs **Build Native App** to update the application bundle, a new build will be triggered in Bitrise.

## Additional Considerations

Our MVP Marcel Groeneweg has written a blog post about optimizing Mendix native mobile builds with Bitrise. Check it out on [Medium](https://marcel-groeneweg.medium.com/mendix-native-builds-with-bitrise-6ce56f0bb8fc) (Mendix cannot take responsibility for third-party recommendations).
